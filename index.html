<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>SPA Massage & SPA</title>
  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    :root { --primary: #2a9d8f; --secondary: #e9c46a; --accent: #f4a261; --dark: #264653; }
    html, body { margin:0; padding:0; scroll-behavior:smooth; scroll-snap-type:y mandatory;
      height:100%; overflow-y:scroll; background:var(--dark); color:#f0f0f0;
      font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
    nav { position:sticky; top:0; backdrop-filter:blur(12px); background:rgba(38,70,83,0.85); z-index:50; }
    nav ul { display:flex; justify-content:center; gap:2rem; padding:1rem; margin:0; list-style:none; flex-wrap:wrap; }
    .nav-btn { position:relative; padding:.5rem 1.5rem; background:linear-gradient(135deg,var(--primary),var(--secondary));
      border-radius:9999px; color:#fff; font-weight:600; cursor:pointer; transition:transform .3s,box-shadow .3s; }
    .nav-btn:hover { transform:translateY(-3px) scale(1.05); box-shadow:0 8px 16px rgba(0,0,0,0.4); }
    .active::after { content:''; position:absolute; bottom:-4px; left:50%; transform:translateX(-50%);
      width:50%; height:3px; background:var(--accent); border-radius:2px; }
    #navToggle { display:none; position:absolute; top:10px; right:20px; background:none; border:none; cursor:pointer; }
    #navToggle span { display:block; width:25px; height:3px; margin:5px; background:#fff; border-radius:2px; }
    @media(max-width:480px) {
      #navToggle { display:block; }
      nav ul { display:none; flex-direction:column; background:rgba(38,70,83,0.9); width:100%; }
      nav ul.open { display:flex; }
    }
    section { position:relative; scroll-snap-align:center; min-height:100vh; padding:6rem 1rem;
      display:flex; align-items:center; justify-content:center; flex-direction:column; }
    #hero { background:linear-gradient(rgba(38,70,83,0.6),rgba(38,70,83,0.6)), url('img/hero.jpg');
      background-size:cover; background-position:center; text-align:center; }
    #hero .hero-content { background:rgba(0,0,0,0.5); padding:3rem; border-radius:1rem; max-width:90%; }
    #hero h1 { font-size:4rem; margin-bottom:1rem; color:var(--secondary); }
    #hero p { font-size:1.25rem; margin-bottom:2rem; }
    #services { background:var(--dark); }
    #services h2 { font-size:3rem; margin-bottom:2rem; position:relative; color:var(--secondary); }
    #services h2::after { content:''; position:absolute; bottom:-0.5rem; left:50%; transform:translateX(-50%);
      width:100px; height:4px; background:var(--primary); border-radius:2px; }
    .service-grid { display:grid; grid-template-columns:repeat(auto-fit, minmax(280px,1fr));
      gap:2rem; width:100%; max-width:1200px; }
    .service-card { background:#fff; color:#333; border-radius:1rem; overflow:hidden;
      box-shadow:0 10px 20px rgba(0,0,0,0.2); transition:transform .4s; display:flex; flex-direction:column; }
    .service-card:hover { transform:translateY(-10px) scale(1.03); }
    .service-card img { width:100%; height:200px; object-fit:cover; }
    .service-card h3 { font-size:1.5rem; margin:1rem; color:var(--dark); }
    .service-card p { font-size:1rem; margin:0 1rem 1rem; flex-grow:1; }
    .service-card .price { font-size:1.25rem; font-weight:600; margin:0 1rem 1rem; color:var(--primary); }
    #contact { background:linear-gradient(135deg,var(--primary),var(--accent)); color:#888; }
    #contact h2 { font-size:2.5rem; margin-bottom:2rem; color:#f5f5f5; text-align:center; }
    #bookingForm { display:flex; flex-direction:column; gap:1rem; width:100%; max-width:400px; }
    #bookingForm input, #bookingForm textarea { padding:1rem; border:none; border-radius:.75rem;
      font-size:1rem; outline:none; color:#333; }
    #bookingForm button { padding:1rem; background:linear-gradient(135deg,var(--secondary),var(--accent));
      font-weight:600; border:none; border-radius:9999px; cursor:pointer; display:flex; align-items:center; }
    #bookingForm button:hover { transform:translateY(-3px); box-shadow:0 8px 16px rgba(0,0,0,0.3); }
    #statusMsg { margin-top:1rem; text-align:center; font-size:1.125rem; min-height:1.5rem; color:#fff; }
    @media(max-width:768px) {
      #hero h1{font-size:2.5rem;} #hero p{font-size:1rem;}
      .service-card img{height:150px;} #bookingForm{max-width:90%;}
    }
  </style>
</head>
<body>

  <nav>
    <button id="navToggle" type="button"><span></span><span></span><span></span></button>
    <ul id="navList">
      <li><button data-target="#hero" class="nav-btn active">–ì–ª–∞–≤–Ω–∞—è</button></li>
      <li><button data-target="#services" class="nav-btn">–£—Å–ª—É–≥–∏</button></li>
      <li><button data-target="#contact" class="nav-btn">–ó–∞–ø–∏—Å—å</button></li>
    </ul>
  </nav>

  <section id="hero">
    <div class="hero-content">
      <h1>–†–∞—Å—Å–ª–∞–±—å—Ç–µ—Å—å —Å –Ω–∞–º–∏</h1>
      <p>–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π SPA –∏ –º–∞—Å—Å–∞–∂ —É –≤–∞—Å –Ω–∞ –¥–æ–º—É</p>
      <button data-target="#services" class="nav-btn">–£–∑–Ω–∞—Ç—å –±–æ–ª—å—à–µ</button>
    </div>
  </section>

  <section id="services">
    <h2>–ù–∞—à–∏ —É—Å–ª—É–≥–∏</h2>
    <div id="serviceGrid" class="service-grid"></div>
  </section>

  <section id="contact">
    <h2>–ó–∞–ø–∏—Å–∞—Ç—å—Å—è —Å–µ–π—á–∞—Å</h2>
    <form id="bookingForm">
      <input name="name" type="text" placeholder="–í–∞—à–µ –§–∞–º–∏–ª–∏—è –ò–º—è" required />
      <input name="phone" type="tel" placeholder="–¢–µ–ª–µ—Ñ–æ–Ω" required />
      <textarea name="message" placeholder="–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π" rows="4"></textarea>
      <button type="submit">
        <span id="btnText">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É</span>
        <span id="spinner"
          style="display:none; margin-left:0.5rem; width:1rem; height:1rem; border:2px solid #fff;
                 border-top-color:transparent; border-radius:50%; animation:spin 1s linear infinite;">
        </span>
      </button>
    </form>
    <p id="statusMsg"></p>
  </section>

  <script>
    // –ë—É—Ä–≥–µ—Ä-–º–µ–Ω—é –∏ –ø–ª–∞–≤–Ω—ã–π —Å–∫—Ä–æ–ª–ª
    document.getElementById('navToggle').addEventListener('click', () =>
      document.getElementById('navList').classList.toggle('open')
    );
    document.querySelectorAll('.nav-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        document.querySelector(btn.dataset.target)
                .scrollIntoView({ behavior: 'smooth', block: 'start' });
      });
    });
    const obs = new IntersectionObserver(entries => {
      entries.forEach(e => {
        const b = document.querySelector(`.nav-btn[data-target="#${e.target.id}"]`);
        if (b) b.classList.toggle('active', e.isIntersecting);
      });
    }, { threshold: 0.6 });
    document.querySelectorAll('section').forEach(s => obs.observe(s));
  </script>

  <script type="module">
    // –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º –¥–∞–Ω–Ω—ã–µ –∏ –æ—Ç—Ä–∏—Å–æ–≤—ã–≤–∞–µ–º –∫–∞—Ä—Ç–æ—á–∫–∏
    import { services } from './services-config.js';

    const grid = document.getElementById('serviceGrid');
    services.forEach(item => {
      const div = document.createElement('div');
      div.className = 'service-card';
      div.innerHTML = `
        <img src="${item.img}" alt="${item.title}">
        <h3>${item.title}</h3>
        <p>${item.description}</p>
        <div class="price">${item.price}</div>
      `;
      grid.appendChild(div);
    });
  </script>

  <script>
    // –û—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–æ—Ä–º—ã –≤ Telegram
    const BOT_TOKEN = '7577231841:AAFuxU7qKica-U5CVTl684kigyjuE92uzEg';
    const CHAT_ID  = '1459592080';
    const form     = document.getElementById('bookingForm');
    const btnText  = document.getElementById('btnText');
    const spinner  = document.getElementById('spinner');
    const status   = document.getElementById('statusMsg');

    form.addEventListener('submit', async e => {
      e.preventDefault();
      form.querySelector('button').disabled = true;
      btnText.style.display   = 'none';
      spinner.style.display   = 'inline-block';
      status.textContent      = '';

      const data = new FormData(form);
      const msg  = `üì© *–ù–æ–≤–∞—è –∑–∞—è–≤–∫–∞ –Ω–∞ –º–∞—Å—Å–∞–∂:*\nüë§ –§–ò: ${data.get('name')}\nüìû –¢–µ–ª–µ—Ñ–æ–Ω: ${data.get('phone')}`
                 + `/nüí¨ –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π: ${data.get('message')}`;

      try {
        const res = await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`, {
          method: 'POST',
          headers:{ 'Content-Type':'application/json' },
          body: JSON.stringify({ chat_id: CHAT_ID, text: msg, parse_mode: 'Markdown' })
        });
        const json = await res.json();
        if (json.ok) {
          status.style.color = '#0f0';
          status.textContent = '–ó–∞—è–≤–∫–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞! –°–∫–æ—Ä–æ —Å–≤—è–∂–µ–º—Å—è.';
          form.reset();
        } else throw new Error(json.description);
      } catch {
        status.style.color = '#f00';
        status.textContent = '–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â—ë.';
      } finally {
        form.querySelector('button').disabled = false;
        btnText.style.display   = 'inline';
        spinner.style.display   = 'none';
      }
    });
  </script>

</body>
</html>
